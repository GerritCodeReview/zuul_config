{
  "comments": [
    {
      "key": {
        "uuid": "c71d9b73_dcf4aa1d",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 9,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2020-04-29T16:43:38Z",
      "side": 1,
      "message": "Actually it requires *ALL* the core plugins: the plugin-manager is the \"one ring to rule them all\", therefore needs to make a release.war distribution and testing that is able to list, extract and install them E2E.",
      "range": {
        "startLine": 9,
        "startChar": 39,
        "endLine": 9,
        "endChar": 56
      },
      "revId": "49d30b6bea62b72f19afeaa8405637921c671d79",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a81c37c7_291c7a63",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 9,
      "author": {
        "id": 1087826
      },
      "writtenOn": "2020-04-29T16:55:06Z",
      "side": 1,
      "message": "Given that, then we may want to take the alternate approach in https://gerrit-review.googlesource.com/265213 since it would be the full list, and it\u0027s going to be different for each branch.  I don\u0027t think we want to duplicate all of that here or in the plugin-manager repo.",
      "revId": "49d30b6bea62b72f19afeaa8405637921c671d79",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "335e269d_a5336339",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 9,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2020-04-29T18:27:23Z",
      "side": 1,
      "message": "Say, we would add another 100 plugins as core plugins. Only one single core plugin right now: plugin-manager requires all 100 plugins to be cloned. Is that smart to always clone 100 of plugins to verify core plugin for every core plugin in vain? Bandwidth is very valuable resources and we should avoid wasting it.\n\nI would prefer one of these alternative:\n\n* 1. Rewrite the test in plugin-manager to not require release.war to be built in the first place. There is RedHat java library for creating jar and war using Java API (forgot it name), So that we could mock release.war with similar content without requiring actual real release.war to be built. It was probably a crazy idea anyway.\n*. 2 Rewrite the test to only use release.war with one single plugin: plugin-manager included in release.war. This repository is already cloned. We could add new rule to gerrit core: release_with_plugin_manager_plugin.war",
      "parentUuid": "a81c37c7_291c7a63",
      "revId": "49d30b6bea62b72f19afeaa8405637921c671d79",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2dc495c5_c699b9a7",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 9,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2020-04-29T20:04:12Z",
      "side": 1,
      "message": "\u003e Say, we would add another 100 plugins as core plugins. Only one single core plugin right now: plugin-manager requires all 100 plugins to be cloned. Is that smart to always clone 100 of plugins to verify core plugin for every core plugin in vain? Bandwidth is very valuable resources and we should avoid wasting it.\n\u003e \n\u003e I would prefer one of these alternative:\n\u003e \n\u003e * 1. Rewrite the test in plugin-manager to not require release.war to be built in\n\nYou mean not to test E2E: not an option as this is the reason why we write tests. We want to make sure that the code works E2E. That specific test was written to fix a bug discovered.\nThe CI/CD system should be flexible enough to be able to run tests, no the other way around.\n\n\u003e the first place. There is RedHat java library for creating jar and war using Java API (forgot it name), So that we could mock release.war with similar content without requiring actual real release.war to be built. It was probably a crazy idea anyway.\n\nIt was your idea :-) and I liked it. I would have not been able to do that with Bazel.\n\n\u003e *. 2 Rewrite the test to only use release.war with one single plugin: plugin-manager included in release.war. This repository is already cloned. We could add new rule to gerrit core: release_with_plugin_manager_plugin.war\n\nThen it won\u0027t be E2E anymore.",
      "parentUuid": "335e269d_a5336339",
      "revId": "49d30b6bea62b72f19afeaa8405637921c671d79",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "df37499f_ea1b7a4c",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 9,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2020-04-29T20:21:44Z",
      "side": 1,
      "message": "\u003e *. 2 Rewrite the test to only use release.war with one single plugin: plugin-manager included in release.war. This repository is already cloned. We could add new rule to gerrit core: release_with_plugin_manager_plugin.war\n\n\u003e Then it won\u0027t be E2E anymore.\n\nHow that? plugin-manager has two modes: install local plugins from  release.war and remote plugins from configured CI site. Why testing 1 plugin from release.was is not enough? Why it has to be 10 plugins or hundreds in release.war? What error would you detect, if it work with installing one plugin from release.war, compared to 100 plugins included in release.war?",
      "parentUuid": "2dc495c5_c699b9a7",
      "revId": "49d30b6bea62b72f19afeaa8405637921c671d79",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}